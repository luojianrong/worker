<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  function  lodImg(src) {
    let promise = new  Promise((resolve,reject)=>{
      let img = document.createElement("img");
      img.onload = function () {
        resolve(img);
      }
      img.onerror = function () {
        reject("图片加载错误");
      }
      img.src = src;
    })
    return promise
  }

  let src = "./02.jpg";
  let result = lodImg(src);

  result
  .then((img)=>{
    alert("width:"+img.width)
  })
  .catch((err)=>{
    alert(err)
  })
</script>

</body>
</html>
